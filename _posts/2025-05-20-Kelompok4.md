---
title: N-QUEENS PROBLEM
date: 2025-05-20
categories: [DESAIN ANALISIS ALGORITMA, BACKTRACKING ALGORITHM]
tags: [daa, algorithm, backtracking, n-queen]     
---


# Presentasi Kelompok 4: N-Queen Problem

Masalah N-Queen adalah salah satu masalah klasik dalam teori algoritma dan pemrograman, yang melibatkan penempatan N buah ratu pada papan catur berukuran N x N. Tujuannya adalah untuk menempatkan ratu-ratu tersebut sedemikian rupa sehingga tidak ada dua ratu yang saling menyerang satu sama lain, baik secara horizontal, vertikal, maupun diagonal.

![N-Queen Problem](assets/pertemuan/klp4/Screenshot 2025-06-09 221110.jpg){: width="500"}
_---_

# Penjelasan tentang N-Queen Problem

**N-Queen Problem** adalah masalah optimisasi yang termasuk dalam kategori masalah backtracking. Dalam masalah ini, kita diberikan sebuah papan catur berukuran N x N, dan tugasnya adalah menempatkan N buah ratu pada papan tersebut dengan kondisi bahwa tidak ada dua ratu yang saling menyerang. Dua ratu akan saling menyerang jika berada pada posisi yang sama dalam satu baris, kolom, atau diagonal.

## Prinsip Dasar N-Queen Problem

Proses utama untuk menyelesaikan masalah N-Queen adalah sebagai berikut:

1. **Penempatan Ratu**  
   Mulai dengan menempatkan ratu pada baris pertama, kemudian melanjutkan penempatan ratu pada baris-baris berikutnya.
   
2. **Pemeriksaan Validitas Posisi**  
   Setelah penempatan ratu, periksa apakah posisi tersebut valid, yaitu apakah ratu yang baru ditempatkan tidak saling menyerang dengan ratu yang sudah ditempatkan sebelumnya.
   
3. **Backtracking**  
   Jika pada suatu langkah tidak memungkinkan untuk menempatkan ratu, maka kembali ke langkah sebelumnya (backtrack) dan coba penempatan lain.

## Proses Penyelesaian Masalah

- **Pencarian Posisi Valid**: Di setiap langkah, kita akan mencoba menempatkan ratu di setiap kolom dalam baris tertentu dan memeriksa apakah posisi tersebut valid.
  
- **Backtracking**: Jika tidak ada kolom yang memungkinkan untuk ditempati oleh ratu pada baris tertentu, maka kita akan kembali ke baris sebelumnya dan mencoba penempatan yang berbeda di sana.

---

## Langkah-Langkah Implementasi N-Queen Problem

### 1. Inisialisasi Papan Catur
Buat papan catur dengan ukuran N x N, yang semuanya diinisialisasi dengan nilai yang menunjukkan bahwa belum ada ratu yang ditempatkan.

### 2. Penempatan Ratu
Coba tempatkan ratu di setiap kolom dari baris pertama hingga N, dan pastikan setiap penempatan ratu valid.

### 3. Pemeriksaan Validitas
Periksa apakah ratu yang ditempatkan saling menyerang dengan ratu yang sudah ada di baris sebelumnya. Jika tidak valid, backtrack dan coba penempatan lain.

### 4. Penyelesaian
Jika ratu berhasil ditempatkan di semua baris, maka solusi ditemukan. Jika tidak, kembalikan ke langkah sebelumnya untuk mencoba solusi lainnya.

---

## Implementasi N-Queen Problem dalam C++

Berikut adalah implementasi N-Queen Problem menggunakan pendekatan backtracking dalam bahasa C++:

```cpp
#include <iostream>
#include <vector>

using namespace std;

// Fungsi untuk memeriksa apakah posisi saat ini valid
bool isSafe(const vector<vector<int>>& board, int row, int col, int N) {
    // Memeriksa kolom
    for (int i = 0; i < row; i++) {
        if (board[i][col] == 1) {
            return false;
        }
    }

    // Memeriksa diagonal kiri atas
    for (int i = row, j = col; i >= 0 && j >= 0; i--, j--) {
        if (board[i][j] == 1) {
            return false;
        }
    }

    // Memeriksa diagonal kanan atas
    for (int i = row, j = col; i >= 0 && j < N; i--, j++) {
        if (board[i][j] == 1) {
            return false;
        }
    }

    return true;
}

// Fungsi untuk menyelesaikan masalah N-Queen menggunakan backtracking
bool solveNQueen(vector<vector<int>>& board, int row, int N) {
    if (row >= N) {
        return true; // Semua ratu telah ditempatkan
    }

    // Coba setiap kolom pada baris saat ini
    for (int col = 0; col < N; col++) {
        if (isSafe(board, row, col, N)) {
            board[row][col] = 1; // Tempatkan ratu

            // Coba menempatkan ratu pada baris berikutnya
            if (solveNQueen(board, row + 1, N)) {
                return true;
            }

            // Jika penempatan tidak valid, backtrack
            board[row][col] = 0;
        }
    }

    return false; // Tidak ada solusi yang valid
}

// Fungsi untuk mencetak papan catur
void printBoard(const vector<vector<int>>& board, int N) {
    for (int i = 0; i < N; i++) {
        for (int j = 0; j < N; j++) {
            cout << (board[i][j] ? "Q " : ". ");
        }
        cout << endl;
    }
}

int main() {
    int N;
    cout << "Masukkan ukuran papan catur (N): ";
    cin >> N;

    vector<vector<int>> board(N, vector<int>(N, 0));

    if (solveNQueen(board, 0, N)) {
        cout << "Solusi ditemukan:\n";
        printBoard(board, N);
    } else {
        cout << "Tidak ada solusi untuk masalah N-Queen dengan N = " << N << endl;
    }

    return 0;
}
```

## Penjelasan Kode

- **isSafe**: Fungsi untuk memeriksa apakah penempatan ratu di posisi tertentu aman. Fungsi ini memeriksa tiga kondisi: apakah ratu berada pada kolom yang sama dengan ratu sebelumnya, apakah ratu berada pada diagonal kiri atas yang sama, dan apakah ratu berada pada diagonal kanan atas yang sama.

- **solveNQueen**: Fungsi rekursif yang mencoba menempatkan ratu di setiap kolom pada baris tertentu. Jika posisi ratu valid, maka fungsi ini akan melanjutkan penempatan ratu di baris berikutnya. Jika tidak ada kolom yang memungkinkan penempatan ratu, maka fungsi akan melakukan backtracking.

- **printBoard**: Fungsi untuk mencetak papan catur yang menunjukkan posisi ratu. Ratu yang ditempatkan di suatu posisi akan ditandai dengan "Q", dan posisi kosong akan ditandai dengan ".".

---

## Hasil Output

### Contoh Input

Jika Anda memasukkan ukuran papan catur N = 4:

### Output

Solusi ditemukan:

```
. Q . .
. . . Q
Q . . .
. . Q .
```

### Penjelasan Output

- **Papan Catur**: Pada papan catur berukuran 4x4, posisi ratu yang ditempatkan sesuai dengan solusi yang ditemukan adalah sebagai berikut:
  - Ratu pertama ditempatkan pada baris pertama kolom kedua.
  - Ratu kedua ditempatkan pada baris kedua kolom keempat.
  - Ratu ketiga ditempatkan pada baris ketiga kolom pertama.
  - Ratu keempat ditempatkan pada baris keempat kolom ketiga.

---

## Kesimpulan

Masalah N-Queen adalah contoh yang bagus untuk mengilustrasikan penggunaan algoritma backtracking dalam pemecahan masalah optimisasi. Dalam masalah ini, tujuan utama adalah menempatkan N buah ratu pada papan catur berukuran N x N, dengan memastikan tidak ada dua ratu yang saling menyerang. 

Dengan menggunakan pendekatan backtracking, kita dapat mengeksplorasi setiap kemungkinan penempatan ratu dan memeriksa apakah penempatan tersebut valid. Jika tidak valid, kita melakukan backtrack untuk mencoba solusi lain.

Masalah N-Queen ini tidak hanya memberikan pemahaman mendalam tentang teknik backtracking, tetapi juga menunjukkan bagaimana algoritma ini dapat diterapkan pada masalah-masalah kombinatorik lainnya yang memerlukan eksplorasi ruang solusi yang besar dan kompleks.

Secara keseluruhan, N-Queen Problem mengajarkan kita bagaimana memecahkan masalah optimisasi dengan pendekatan yang sistematis dan efisien menggunakan teknik backtracking.
